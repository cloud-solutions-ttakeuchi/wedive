# Release Notes - WeDive v2.2.9

## リリース日: 2025-12-21

## 概要
本リリースでは、データベース設計の抜本的な見直し（IDの正規化と非正規化による高速化）を実施しました。これにより、アプリ全体のパフォーマンス向上と、将来的なデータ整合性の維持が容易になります。

## 主な変更点

### 1. データベース・スキーマの刷新
- **ID命名規則の厳格化**: 全てのID（Point, Area, Zone, Region, Creature）からアンダースコアを排除しました（例: `p_123` → `p123`）。
- **検索の最適化**: `points` コレクションに親階層のID (`regionId`, `zoneId`) を持たせることで、複数のコレクションを参照せずに高速な絞り込みが可能になりました。

### 2. UI/UXの改善
- **地点検索機能の強化**: IDベースの階層フィルタリングを実装。より確実なドリルダウン検索が可能になりました。
- **管理者ツールの改善**: 地点の編集・登録時に、地域情報をマスタから選択できるように変更。データの表記揺れを根本的に防止します。

### 3. データエンジニアリング
- **クレンジングパイプラインの高速化**: AIによる生物紐付け処理において、最適化されたスキーマを活用。

---

## 開発者向け注意事項
- **破壊的変更**: 既存の `p_` 形式のIDを持つデータは、新システムでは参照できません。シードデータのIDは全て更新済みですので、環境の再構築（Hard Reset）を推奨します。
- **型定義の更新**: `src/types.ts` に階層IDが追加されています。
