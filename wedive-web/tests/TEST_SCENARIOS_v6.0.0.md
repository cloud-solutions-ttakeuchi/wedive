# Test Scenarios: v6.0.0 User Review System

## 概要
ユーザーレビュー機能（投稿、自動集計、可視化、パーソナライズアラート）の動作を検証するためのテストシナリオ。

## 1. レビュー投稿フロー
### 1.1 基本投稿 (Web/App)
- **前提条件:** ログイン済みであること
- **操作:** 
    1. スポット詳細ページから「レビューを書く」をクリック
    2. Step 1: 天候（晴れ）、海況（ベタ凪）を選択
    3. Step 2: 透明度（15m）、満足度（4/5）、レーダーチャート（遭遇度: 4, 快適度: 5等）を入力
    4. Step 3: 感想を入力し、写真を1枚アップロード
    5. 「投稿する」をクリック
- **期待される結果:**
    - 正常に完了し、スポット詳細ページに戻る
    - 新しいレビューがリストに表示される
    - アップロードした写真が表示される

### 1.2 画像制限チェック
- **操作:** 写真を6枚選択しようとする
- **期待される結果:** 5枚までしか追加できない、またはエラーメッセージが表示される

## 2. クラウド自動集計 (Cloud Functions)
- **前提条件:** スポット A にまだレビューがない
- **操作:** 
    1. ユーザー1がポイント A にレビュー（評価4, 透明度10m）を投稿
    2. ユーザー2がポイント A にレビュー（評価5, 透明度20m）を投稿
- **期待される結果:**
    - ポイント A の `actualStats` が `avgRating: 4.5`, `avgVisibility: 15` に更新される
    - 検索結果の「Pot.」バッジが正しく計算される

## 3. パーソナライズアラート (Web)
- **前提条件:** 
    - ユーザーXのログ数が 15本
    - スポット B (Advanced) の直近レビューが「Hard」
- **操作:** スポット B を検索する
- **期待される結果:**
    - スポット B のカードに「スキルに対し難易度が急上昇中」の警告バッジが表示される（bounceアニメーション付き）

## 4. ベストシーズン分析 (Web)
- **操作:** スポット詳細ページを表示し、スクロール
- **期待される結果:**
    - 「ベストシーズン・分析」セクションが表示される
    - 1月〜12月の棒グラフが描画されている
    - マウスオーバーで詳細値（透明度、遭遇度）がツールチップ表示される
